from decimal import Decimal, getcontext

getcontext().prec = 100  # 设置计算精度为30位
# result = Decimal(10) / Decimal(3)
# print(result)


a = 87654321123456787
b = 87654321123456787
p = 87654321123456788
print("long double a * b =>", a * b)
c = a * b / p
c = Decimal(a) * Decimal(b) / Decimal(p)
x = a * b
y = int(c) * p
print("c =>", c)
print("x => " + str(x) + ", y => " + str(y))
print("bin version: x => " + str(bin(x)))
print("             y => " + str(bin(y)))
print(a * b % p)


# print(7683280011614082689894832256363369 / p)

print()

a = 37654321123456787
b = 37654321123456787
p = 17654321123456788
print("long double a * b =>", a * b)
c = a * b / p
c = Decimal(a) * Decimal(b) / Decimal(p)
x = a * b
y = int(c) * p
print("c =>", c)
print("x => " + str(x) + ", y => " + str(y))
print("bin version: x => " + str(bin(x)))
print("             y => " + str(bin(y)))
print(a * b % p)

"""
a => 8765432112345678, b => 8765432112953417, p => 87654321123456788
54345679096057018, 15009041312430882
"""

# 其他样例
"""
a => 8765432112345678, b => 8765432112803996
45580246983830876, 6243609200204740
a => 8765432112345678, b => 8765432112803997
54345679096176554, 15009041312550418
a => 8765432112345678, b => 8765432112803998
63111111208522232, 23774473424896096
a => 8765432112345678, b => 8765432112803999
71876543320867910, 32539905537241774
a => 8765432112345678, b => 8765432112804000
80641975433213588, 41305337649587452
a => 8765432112345678, b => 8765432112808204
28049382759136152, 76367066098966804
a => 8765432112345678, b => 8765432112808205
36814814871481830, 85132498211312482
a => 8765432112345678, b => 8765432112808206
45580246983827508, 6243609200201372
a => 8765432112345678, b => 8765432112808207
54345679096173186, 15009041312547050
a => 8765432112345678, b => 8765432112808208
63111111208518864, 23774473424892728
a => 8765432112345678, b => 8765432112808209
71876543320864542, 32539905537238406
a => 8765432112345678, b => 8765432112808210
80641975433210220, 41305337649584084
a => 8765432112345678, b => 8765432112810308
63111111208517184, 23774473424891048
a => 8765432112345678, b => 8765432112810309
71876543320862862, 32539905537236726
a => 8765432112345678, b => 8765432112812413
19283950646787106, 67601633986617758
a => 8765432112345678, b => 8765432112812414
28049382759132784, 76367066098963436
a => 8765432112345678, b => 8765432112812415
36814814871478462, 85132498211309114
a => 8765432112345678, b => 8765432112812416
45580246983824140, 6243609200198004
a => 8765432112345678, b => 8765432112812417
54345679096169818, 15009041312543682
a => 8765432112345678, b => 8765432112812418
63111111208515496, 23774473424889360
a => 8765432112345678, b => 8765432112812419
71876543320861174, 32539905537235038
a => 8765432112345678, b => 8765432112812420
80641975433206852, 41305337649580716
a => 8765432112345678, b => 8765432112814517
54345679096168138, 15009041312542002
a => 8765432112345678, b => 8765432112814518
63111111208513816, 23774473424887680
a => 8765432112345678, b => 8765432112814519
71876543320859494, 32539905537233358
a => 8765432112345678, b => 8765432112816622
10518518534438060, 58836201874268712
a => 8765432112345678, b => 8765432112816623
19283950646783738, 67601633986614390
a => 8765432112345678, b => 8765432112816624
28049382759129416, 76367066098960068
a => 8765432112345678, b => 8765432112816625
36814814871475094, 85132498211305746
a => 8765432112345678, b => 8765432112816626
45580246983820772, 6243609200194636
a => 8765432112345678, b => 8765432112816627
54345679096166450, 15009041312540314
a => 8765432112345678, b => 8765432112816628
63111111208512128, 23774473424885992
a => 8765432112345678, b => 8765432112816629
71876543320857806, 32539905537231670
a => 8765432112345678, b => 8765432112816630
80641975433203484, 41305337649577348
a => 8765432112345678, b => 8765432112818726
45580246983819092, 6243609200192956
a => 8765432112345678, b => 8765432112818727
54345679096164770, 15009041312538634
a => 8765432112345678, b => 8765432112818728
63111111208510448, 23774473424884312
a => 8765432112345678, b => 8765432112818729
71876543320856126, 32539905537229990
a => 8765432112345678, b => 8765432112820830
80641975433200124, 32324292093369472
a => 8765432112345678, b => 8765432112822935
36814814871470046, 85132498211300698
a => 8765432112345678, b => 8765432112822936
45580246983815724, 6243609200189588
a => 8765432112345678, b => 8765432112822937
54345679096161402, 15009041312535266
a => 8765432112345678, b => 8765432112822938
63111111208507080, 23774473424880944
a => 8765432112345678, b => 8765432112822939
71876543320852758, 32539905537226622
a => 8765432112345678, b => 8765432112827144
28049382759121000, 76367066098951652
a => 8765432112345678, b => 8765432112827145
36814814871466678, 85132498211297330
a => 8765432112345678, b => 8765432112827146
45580246983812356, 6243609200186220
a => 8765432112345678, b => 8765432112827147
54345679096158034, 15009041312531898
a => 8765432112345678, b => 8765432112827148
63111111208503712, 23774473424877576
a => 8765432112345678, b => 8765432112827149
71876543320849390, 32539905537223254
a => 8765432112345678, b => 8765432112829249
71876543320847710, 32539905537221574
a => 8765432112345678, b => 8765432112831353
19283950646771954, 67601633986602606
a => 8765432112345678, b => 8765432112831354
28049382759117632, 76367066098948284
a => 8765432112345678, b => 8765432112831355
36814814871463310, 85132498211293962
a => 8765432112345678, b => 8765432112831356
45580246983808988, 6243609200182852
a => 8765432112345678, b => 8765432112831357
54345679096154666, 15009041312528530
a => 8765432112345678, b => 8765432112831358
63111111208500344, 23774473424874208
a => 8765432112345678, b => 8765432112831359
71876543320846022, 32539905537219886
a => 8765432112345678, b => 8765432112833458
63111111208498664, 23774473424872528
a => 8765432112345678, b => 8765432112833459
71876543320844342, 32539905537218206
a => 8765432112345678, b => 8765432112835562
10518518534422908, 58836201874253560
a => 8765432112345678, b => 8765432112835563
19283950646768586, 67601633986599238
a => 8765432112345678, b => 8765432112835564
28049382759114264, 76367066098944916
a => 8765432112345678, b => 8765432112835565
36814814871459942, 85132498211290594
a => 8765432112345678, b => 8765432112835566
45580246983805620, 6243609200179484
a => 8765432112345678, b => 8765432112835567
54345679096151298, 15009041312525162
a => 8765432112345678, b => 8765432112835568
63111111208496976, 23774473424870840
a => 8765432112345678, b => 8765432112835569
71876543320842654, 32539905537216518
a => 8765432112345678, b => 8765432112837667
54345679096149618, 15009041312523482
a => 8765432112345678, b => 8765432112837668
63111111208495296, 23774473424869160
a => 8765432112345678, b => 8765432112837669
71876543320840974, 32539905537214838
a => 8765432112345678, b => 8765432112839771
1753086422073862, 50070769761904514
a => 8765432112345678, b => 8765432112839772
10518518534419540, 58836201874250192
a => 8765432112345678, b => 8765432112839773
19283950646765218, 67601633986595870
a => 8765432112345678, b => 8765432112839774
28049382759110896, 76367066098941548
a => 8765432112345678, b => 8765432112839775
36814814871456574, 85132498211287226
a => 8765432112345678, b => 8765432112839776
45580246983802252, 6243609200176116
a => 8765432112345678, b => 8765432112839777
54345679096147930, 15009041312521794
a => 8765432112345678, b => 8765432112839778
63111111208493608, 23774473424867472
a => 8765432112345678, b => 8765432112839779
71876543320839286, 32539905537213150
a => 8765432112345678, b => 8765432112841876
45580246983800572, 6243609200174436
a => 8765432112345678, b => 8765432112841877
54345679096146250, 15009041312520114
a => 8765432112345678, b => 8765432112841878
63111111208491928, 23774473424865792
a => 8765432112345678, b => 8765432112841879
71876543320837606, 32539905537211470
a => 8765432112345678, b => 8765432112846085
36814814871451526, 85132498211282178
a => 8765432112345678, b => 8765432112846086
45580246983797204, 6243609200171068
a => 8765432112345678, b => 8765432112846087
54345679096142882, 15009041312516746
a => 8765432112345678, b => 8765432112846088
63111111208488560, 23774473424862424
a => 8765432112345678, b => 8765432112846089
71876543320834238, 32539905537208102
a => 8765432112345678, b => 8765432112848189
71876543320832558, 32539905537206422
a => 8765432112345678, b => 8765432112850294
28049382759102480, 76367066098933132
a => 8765432112345678, b => 8765432112850295
36814814871448158, 85132498211278810
a => 8765432112345678, b => 8765432112850296
45580246983793836, 6243609200167700
a => 8765432112345678, b => 8765432112850297
54345679096139514, 15009041312513378
a => 8765432112345678, b => 8765432112850298
63111111208485192, 23774473424859056
a => 8765432112345678, b => 8765432112850299
71876543320830870, 32539905537204734
a => 8765432112345678, b => 8765432112852398
63111111208483512, 23774473424857376
a => 8765432112345678, b => 8765432112852399
71876543320829190, 32539905537203054
a => 8765432112345678, b => 8765432112854503
19283950646753434, 67601633986584086
a => 8765432112345678, b => 8765432112854504
28049382759099112, 76367066098929764
a => 8765432112345678, b => 8765432112854505
36814814871444790, 85132498211275442
a => 8765432112345678, b => 8765432112854506
45580246983790468, 6243609200164332
a => 8765432112345678, b => 8765432112854507
54345679096136146, 15009041312510010
a => 8765432112345678, b => 8765432112854508
63111111208481824, 23774473424855688
a => 8765432112345678, b => 8765432112854509
71876543320827502, 32539905537201366
a => 8765432112345678, b => 8765432112856607
54345679096134466, 15009041312508330
a => 8765432112345678, b => 8765432112856608
63111111208480144, 23774473424854008
a => 8765432112345678, b => 8765432112856609
71876543320825822, 32539905537199686
a => 8765432112345678, b => 8765432112858712
10518518534404388, 58836201874235040
a => 8765432112345678, b => 8765432112858713
19283950646750066, 67601633986580718
a => 8765432112345678, b => 8765432112858714
28049382759095744, 76367066098926396
a => 8765432112345678, b => 8765432112858715
36814814871441422, 85132498211272074
a => 8765432112345678, b => 8765432112858716
45580246983787100, 6243609200160964
a => 8765432112345678, b => 8765432112858717
54345679096132778, 15009041312506642
a => 8765432112345678, b => 8765432112858718
63111111208478456, 23774473424852320
a => 8765432112345678, b => 8765432112858719
71876543320824134, 32539905537197998
a => 8765432112345678, b => 8765432112860816
45580246983785420, 6243609200159284
a => 8765432112345678, b => 8765432112860817
54345679096131098, 15009041312504962
a => 8765432112345678, b => 8765432112860818
63111111208476776, 23774473424850640
a => 8765432112345678, b => 8765432112860819
71876543320822454, 32539905537196318
a => 8765432112345678, b => 8765432112862920
80641975433166452, 32324292093335800
a => 8765432112345678, b => 8765432112865025
36814814871436374, 85132498211267026
a => 8765432112345678, b => 8765432112865026
45580246983782052, 6243609200155916
a => 8765432112345678, b => 8765432112865027
54345679096127730, 15009041312501594
a => 8765432112345678, b => 8765432112865028
63111111208473408, 23774473424847272
a => 8765432112345678, b => 8765432112865029
71876543320819086, 32539905537192950
a => 8765432112345678, b => 8765432112869234
28049382759087328, 76367066098917980
a => 8765432112345678, b => 8765432112869235
36814814871433006, 85132498211263658
a => 8765432112345678, b => 8765432112869236
45580246983778684, 6243609200152548
a => 8765432112345678, b => 8765432112869237
54345679096124362, 15009041312498226
a => 8765432112345678, b => 8765432112869238
63111111208470040, 23774473424843904
a => 8765432112345678, b => 8765432112869239
71876543320815718, 32539905537189582
a => 8765432112345678, b => 8765432112871339
71876543320814038, 32539905537187902
a => 8765432112345678, b => 8765432112873443
19283950646738282, 67601633986568934
a => 8765432112345678, b => 8765432112873444
28049382759083960, 76367066098914612
a => 8765432112345678, b => 8765432112873445
36814814871429638, 85132498211260290
a => 8765432112345678, b => 8765432112873446
45580246983775316, 6243609200149180
a => 8765432112345678, b => 8765432112873447
54345679096120994, 15009041312494858
a => 8765432112345678, b => 8765432112873448
63111111208466672, 23774473424840536
a => 8765432112345678, b => 8765432112873449
71876543320812350, 32539905537186214
a => 8765432112345678, b => 8765432112875548
63111111208464992, 23774473424838856
a => 8765432112345678, b => 8765432112875549
71876543320810670, 32539905537184534
a => 8765432112345678, b => 8765432112877652
10518518534389236, 58836201874219888
a => 8765432112345678, b => 8765432112877653
19283950646734914, 67601633986565566
a => 8765432112345678, b => 8765432112877654
28049382759080592, 76367066098911244
a => 8765432112345678, b => 8765432112877655
36814814871426270, 85132498211256922
a => 8765432112345678, b => 8765432112877656
45580246983771948, 6243609200145812
a => 8765432112345678, b => 8765432112877657
54345679096117626, 15009041312491490
a => 8765432112345678, b => 8765432112877658
63111111208463304, 23774473424837168
a => 8765432112345678, b => 8765432112877659
71876543320808982, 32539905537182846
a => 8765432112345678, b => 8765432112879757
54345679096115946, 15009041312489810
a => 8765432112345678, b => 8765432112879758
63111111208461624, 23774473424835488
a => 8765432112345678, b => 8765432112879759
71876543320807302, 32539905537181166
a => 8765432112345678, b => 8765432112883966
45580246983766900, 6243609200140764
a => 8765432112345678, b => 8765432112883967
54345679096112578, 15009041312486442
a => 8765432112345678, b => 8765432112883968
63111111208458256, 23774473424832120
a => 8765432112345678, b => 8765432112883969
71876543320803934, 32539905537177798
a => 8765432112345678, b => 8765432112886070
80641975433147932, 41305337649521796
a => 8765432112345678, b => 8765432112888175
36814814871417854, 85132498211248506
a => 8765432112345678, b => 8765432112888176
45580246983763532, 6243609200137396
a => 8765432112345678, b => 8765432112888177
54345679096109210, 15009041312483074
a => 8765432112345678, b => 8765432112888178
63111111208454888, 23774473424828752
a => 8765432112345678, b => 8765432112888179
71876543320800566, 32539905537174430
a => 8765432112345678, b => 8765432112890279
71876543320798886, 32539905537172750
a => 8765432112345678, b => 8765432112890280
80641975433144564, 41305337649518428
a => 8765432112345678, b => 8765432112892384
28049382759068808, 76367066098899460
a => 8765432112345678, b => 8765432112892385
36814814871414486, 85132498211245138
a => 8765432112345678, b => 8765432112892386
45580246983760164, 6243609200134028
a => 8765432112345678, b => 8765432112892387
54345679096105842, 15009041312479706
a => 8765432112345678, b => 8765432112892388
63111111208451520, 23774473424825384
a => 8765432112345678, b => 8765432112892389
71876543320797198, 32539905537171062
a => 8765432112345678, b => 8765432112894488
63111111208449840, 23774473424823704
a => 8765432112345678, b => 8765432112894489
71876543320795518, 32539905537169382
a => 8765432112345678, b => 8765432112894490
80641975433141196, 41305337649515060
a => 8765432112345678, b => 8765432112896592
10518518534374084, 58836201874204736
a => 8765432112345678, b => 8765432112896593
19283950646719762, 67601633986550414
a => 8765432112345678, b => 8765432112896594
28049382759065440, 76367066098896092
a => 8765432112345678, b => 8765432112896595
36814814871411118, 85132498211241770
a => 8765432112345678, b => 8765432112896596
45580246983756796, 6243609200130660
a => 8765432112345678, b => 8765432112896597
54345679096102474, 15009041312476338
a => 8765432112345678, b => 8765432112896598
63111111208448152, 23774473424822016
a => 8765432112345678, b => 8765432112896599
71876543320793830, 32539905537167694
a => 8765432112345678, b => 8765432112898697
54345679096100794, 15009041312474658
a => 8765432112345678, b => 8765432112898698
63111111208446472, 23774473424820336
a => 8765432112345678, b => 8765432112898699
71876543320792150, 32539905537166014
a => 8765432112345678, b => 8765432112898700
80641975433137828, 41305337649511692
a => 8765432112345678, b => 8765432112900801
1753086422025038, 50070769761855690
a => 8765432112345678, b => 8765432112900802
10518518534370716, 58836201874201368
a => 8765432112345678, b => 8765432112900803
19283950646716394, 67601633986547046
a => 8765432112345678, b => 8765432112900804
28049382759062072, 76367066098892724
a => 8765432112345678, b => 8765432112900805
36814814871407750, 85132498211238402
a => 8765432112345678, b => 8765432112900806
45580246983753428, 6243609200127292
a => 8765432112345678, b => 8765432112900807
54345679096099106, 15009041312472970
a => 8765432112345678, b => 8765432112900808
63111111208444784, 23774473424818648
a => 8765432112345678, b => 8765432112900809
71876543320790462, 32539905537164326
a => 8765432112345678, b => 8765432112902906
45580246983751748, 6243609200125612
a => 8765432112345678, b => 8765432112902907
54345679096097426, 15009041312471290
a => 8765432112345678, b => 8765432112902908
63111111208443104, 23774473424816968
a => 8765432112345678, b => 8765432112902909
71876543320788782, 32539905537162646
a => 8765432112345678, b => 8765432112902910
80641975433134460, 41305337649508324
a => 8765432112345678, b => 8765432112907115
36814814871402702, 85132498211233354
a => 8765432112345678, b => 8765432112907116
45580246983748380, 6243609200122244
a => 8765432112345678, b => 8765432112907117
54345679096094058, 15009041312467922
a => 8765432112345678, b => 8765432112907118
63111111208439736, 23774473424813600
a => 8765432112345678, b => 8765432112907119
71876543320785414, 32539905537159278
a => 8765432112345678, b => 8765432112907120
80641975433131092, 41305337649504956
a => 8765432112345678, b => 8765432112909219
71876543320783734, 32539905537157598
a => 8765432112345678, b => 8765432112911324
28049382759053656, 76367066098884308
a => 8765432112345678, b => 8765432112911325
36814814871399334, 85132498211229986
a => 8765432112345678, b => 8765432112911326
45580246983745012, 6243609200118876
a => 8765432112345678, b => 8765432112911327
54345679096090690, 15009041312464554
a => 8765432112345678, b => 8765432112911328
63111111208436368, 23774473424810232
a => 8765432112345678, b => 8765432112911329
71876543320782046, 32539905537155910
a => 8765432112345678, b => 8765432112911330
80641975433127724, 41305337649501588
a => 8765432112345678, b => 8765432112913428
63111111208434688, 23774473424808552
a => 8765432112345678, b => 8765432112913429
71876543320780366, 32539905537154230
a => 8765432112345678, b => 8765432112915533
19283950646704610, 67601633986535262
a => 8765432112345678, b => 8765432112915534
28049382759050288, 76367066098880940
a => 8765432112345678, b => 8765432112915535
36814814871395966, 85132498211226618
a => 8765432112345678, b => 8765432112915536
45580246983741644, 6243609200115508
a => 8765432112345678, b => 8765432112915537
54345679096087322, 15009041312461186
a => 8765432112345678, b => 8765432112915538
63111111208433000, 23774473424806864
a => 8765432112345678, b => 8765432112915539
71876543320778678, 32539905537152542
a => 8765432112345678, b => 8765432112915540
80641975433124356, 41305337649498220
a => 8765432112345678, b => 8765432112917637
54345679096085642, 15009041312459506
a => 8765432112345678, b => 8765432112917638
63111111208431320, 23774473424805184
a => 8765432112345678, b => 8765432112917639
71876543320776998, 32539905537150862
a => 8765432112345678, b => 8765432112919742
10518518534355564, 58836201874186216
a => 8765432112345678, b => 8765432112919743
19283950646701242, 67601633986531894
a => 8765432112345678, b => 8765432112919744
28049382759046920, 76367066098877572
a => 8765432112345678, b => 8765432112919745
36814814871392598, 85132498211223250
a => 8765432112345678, b => 8765432112919746
45580246983738276, 6243609200112140
a => 8765432112345678, b => 8765432112919747
54345679096083954, 15009041312457818
a => 8765432112345678, b => 8765432112919748
63111111208429632, 23774473424803496
a => 8765432112345678, b => 8765432112919749
71876543320775310, 32539905537149174
a => 8765432112345678, b => 8765432112919750
80641975433120988, 41305337649494852
a => 8765432112345678, b => 8765432112921846
45580246983736596, 6243609200110460
a => 8765432112345678, b => 8765432112921847
54345679096082274, 15009041312456138
a => 8765432112345678, b => 8765432112921848
63111111208427952, 23774473424801816
a => 8765432112345678, b => 8765432112921849
71876543320773630, 32539905537147494
a => 8765432112345678, b => 8765432112923950
80641975433117628, 32324292093286976
a => 8765432112345678, b => 8765432112926055
36814814871387550, 85132498211218202
a => 8765432112345678, b => 8765432112926056
45580246983733228, 6243609200107092
a => 8765432112345678, b => 8765432112926057
54345679096078906, 15009041312452770
a => 8765432112345678, b => 8765432112926058
63111111208424584, 23774473424798448
a => 8765432112345678, b => 8765432112926059
71876543320770262, 32539905537144126
a => 8765432112345678, b => 8765432112930264
28049382759038504, 76367066098869156
a => 8765432112345678, b => 8765432112930265
36814814871384182, 85132498211214834
a => 8765432112345678, b => 8765432112930266
45580246983729860, 6243609200103724
a => 8765432112345678, b => 8765432112930267
54345679096075538, 15009041312449402
a => 8765432112345678, b => 8765432112930268
63111111208421216, 23774473424795080
a => 8765432112345678, b => 8765432112930269
71876543320766894, 32539905537140758
a => 8765432112345678, b => 8765432112932369
71876543320765214, 32539905537139078
a => 8765432112345678, b => 8765432112934473
19283950646689458, 67601633986520110
a => 8765432112345678, b => 8765432112934474
28049382759035136, 76367066098865788
a => 8765432112345678, b => 8765432112934475
36814814871380814, 85132498211211466
a => 8765432112345678, b => 8765432112934476
45580246983726492, 6243609200100356
a => 8765432112345678, b => 8765432112934477
54345679096072170, 15009041312446034
a => 8765432112345678, b => 8765432112934478
63111111208417848, 23774473424791712
a => 8765432112345678, b => 8765432112934479
71876543320763526, 32539905537137390
a => 8765432112345678, b => 8765432112936578
63111111208416168, 23774473424790032
a => 8765432112345678, b => 8765432112936579
71876543320761846, 32539905537135710
a => 8765432112345678, b => 8765432112938682
10518518534340412, 58836201874171064
a => 8765432112345678, b => 8765432112938683
19283950646686090, 67601633986516742
a => 8765432112345678, b => 8765432112938684
28049382759031768, 76367066098862420
a => 8765432112345678, b => 8765432112938685
36814814871377446, 85132498211208098
a => 8765432112345678, b => 8765432112938686
45580246983723124, 6243609200096988
a => 8765432112345678, b => 8765432112938687
54345679096068802, 15009041312442666
a => 8765432112345678, b => 8765432112938688
63111111208414480, 23774473424788344
a => 8765432112345678, b => 8765432112938689
71876543320760158, 32539905537134022
a => 8765432112345678, b => 8765432112940787
54345679096067122, 15009041312440986
a => 8765432112345678, b => 8765432112940788
63111111208412800, 23774473424786664
a => 8765432112345678, b => 8765432112940789
71876543320758478, 32539905537132342
a => 8765432112345678, b => 8765432112944996
45580246983718076, 6243609200091940
a => 8765432112345678, b => 8765432112944997
54345679096063754, 15009041312437618
a => 8765432112345678, b => 8765432112944998
63111111208409432, 23774473424783296
a => 8765432112345678, b => 8765432112944999
71876543320755110, 32539905537128974
a => 8765432112345678, b => 8765432112947100
80641975433099108, 41305337649472972
a => 8765432112345678, b => 8765432112949205
36814814871369030, 85132498211199682
a => 8765432112345678, b => 8765432112949206
45580246983714708, 6243609200088572
a => 8765432112345678, b => 8765432112949207
54345679096060386, 15009041312434250
a => 8765432112345678, b => 8765432112949208
63111111208406064, 23774473424779928
a => 8765432112345678, b => 8765432112949209
71876543320751742, 32539905537125606
a => 8765432112345678, b => 8765432112951309
71876543320750062, 32539905537123926
a => 8765432112345678, b => 8765432112951310
80641975433095740, 41305337649469604
a => 8765432112345678, b => 8765432112953414
28049382759019984, 76367066098850636
a => 8765432112345678, b => 8765432112953415
36814814871365662, 85132498211196314
a => 8765432112345678, b => 8765432112953416
45580246983711340, 6243609200085204
a => 8765432112345678, b => 8765432112953417
54345679096057018, 15009041312430882
"""


print()

a = 8765432112345678
b = 8765432112953417
p = 87654321123456788
print("long double a * b =>", a * b)
c = a * b / p
c = Decimal(a) * Decimal(b) / Decimal(p)
x = a * b
y = int(c) * p
print("c =>", c)
print("x => " + str(x) + ", y => " + str(y))
print("bin version: x => " + str(bin(x)))
print("             y => " + str(bin(y)))
print(a * b % p)
